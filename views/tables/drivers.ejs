<!DOCTYPE html>
<!--[if lt IE 7]>
<html class='no-js lt-ie9 lt-ie8 lt-ie7' lang="en"> <![endif]-->
<!--[if IE 7]>
<html class='no-js lt-ie9 lt-ie8' lang="en"> <![endif]-->
<!--[if IE 8]>
<html class='no-js lt-ie9' lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<%- include('../includes/head') %>
<body>
<%- include('../includes/header') %>
<div class="container-fluid">
    <div class="row">
        <%- include('../includes/nav') %>
        <div class="card col-xl-10 offset-xl-2 col-9 offset-3 col-md-9 offset-md-3 col-lg-10 offset-lg-2 col-sm-8 offset-sm-4 mr-1">
            <div class="card-body">
                <div class="">
                    <table
                            id="drivers"
                            class="table table-striped table-bordered"
                            style="width:100%"
                    ></table>
                </div>
            </div>
        </div>
    </div>
</div>
<!--[if lt IE 7]>
<p class="browsehappy">
    You are using an <strong>outdated</strong> browser. Please
    <a href="#">upgrade your browser</a> to improve your experience.
</p>
<![endif]-->

<script>
    $(document).ready(function() {
        const table = $('#drivers').DataTable({
            ajax: {
                url: '/api/drivers',
                dataSrc: 'data.results'
            },
            scrollX: true,
            searching: true,
            columns: [
                { title: 'ID', data: 'id' },
                { title: 'First Name', data: 'first_name' },
                { title: 'Last Name', data: 'last_name' },
                { title: 'Nationality', data: 'nationality' },
                { title: 'Address', data: 'address' },
                { title: 'ID Card', data: 'id_card_no' },
                { title: 'Mobile', data: 'mobile' },
                { title: 'Email', data: 'email' },
                { title: 'Sponsor', data: 'sponsor' },
                { title: 'Remarks', data: 'remarks' }
            ],
            processing: true,
            serverSide: true,
            deferRender: true
        });

        table.on('draw', function(e, settiongs) {
            console.log(e);
            console.log(settiongs);
        });
    });
</script>
</body>
</html>
